# 介绍

我们使用[FreeIPA](https://www.freeipa.org/)构建了统一的认证系统。使用统一认证系统有以下优势：

* 集中管理账户，使用同样的密码，公钥等认证方式登录所有服务器；
* 在所有服务器上拥有相同的uid、gid，为其他服务（[分布式存储](../storage/README.md)）提供基础；
* 基于Kerberos的单点登录：输入一次凭据即可登录所有服务器；
* 更安全：执行严格的密码策略；
* 更方便：在一台服务器上修改个人设置（密码，默认shell，home目录等）后，所有服务器都能同步；
* 无需找管理员分配账号，所有人均可登录所有服务器；
* 可使用[Web界面](https://ipa0.scut-smil.cn/)便捷管理个人信息。

## 密码策略

FreeIPA执行较严格的密码策略：
* 在管理员设置密码后，首次登录需要修改密码
* 密码设置不能太简单
* 60秒内，登录失败6次，则需要10分钟后才能再次登录

## 单点登录

FreeIPA集成Kerberos，可以实现单点登录，即输入一次密码即可登录所有服务器。有多种实现的方式：
* 使用密码ssh登录任意一台服务器，然后即可从这台服务器免密码登录所有服务器
* 使用公钥ssh登录任意一台服务器，然后运行`kinit`并输入密码，即可从这台服务器免密码登录所有服务器
* 在自己的Linux客户端上安装Kerberos客户端，运行`kinit <你的用户名>@SCUT-SMIL.CN`并输入密码，即可从你的Linux系统上免密码登录所有服务器

需要注意：ssh登录时需要使用域名。

更多ssh客户端都支持Kerberos，欢迎大家探索其他登录方式并贡献到此文档。

## FAQ

* Web界面中弹出输入用户名密码的对话框，但输入后无法登录。

  请点击所有对话框上的“取消”，并在之后出现的网页中输入用户名密码
