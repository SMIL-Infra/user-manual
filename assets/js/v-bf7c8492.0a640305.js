"use strict";(self.webpackChunksmil_infra_user_manual=self.webpackChunksmil_infra_user_manual||[]).push([[516],{8724:(e,s,a)=>{a.r(s),a.d(s,{default:()=>U});var n=a(6252);const l=(0,n._)("h1",{id:"自助服务",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#自助服务","aria-hidden":"true"},"#"),(0,n.Uk)(" 自助服务")],-1),r=(0,n._)("p",null,"在使用FreeIPA后，部分涉及账号的维护操作将有所不同。",-1),t=(0,n.Uk)("下列操作可以在任何已接入的服务器上运行，也可登录"),i={href:"https://ipa0.scut-smil.cn/",target:"_blank",rel:"noopener noreferrer"},o=(0,n.Uk)("Web界面"),p=(0,n.Uk)("完成。操作后将影响到所有已接入的服务器。"),d=(0,n.uE)('<h2 id="修改密码" tabindex="-1"><a class="header-anchor" href="#修改密码" aria-hidden="true">#</a> 修改密码</h2><p>标准的<code>passwd</code>命令依然可以使用。也可使用ipa命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipa <span class="token function">passwd</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="修改个人信息" tabindex="-1"><a class="header-anchor" href="#修改个人信息" aria-hidden="true">#</a> 修改个人信息</h2><p>例如，修改自己的默认shell，home目录，姓名等</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipa user-mod <span class="token operator">&lt;</span>你的用户名<span class="token operator">&gt;</span> --shell /usr/bin/zsh\nipa user-mod <span class="token operator">&lt;</span>你的用户名<span class="token operator">&gt;</span> --homedir /mnt/cephfs/home/<span class="token operator">&lt;</span>你的用户名<span class="token operator">&gt;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>详见<code>ipa user-mod --help</code>。修改后，需要几分钟时间才能同步至各台服务器。</p><h2 id="添加ssh公钥" tabindex="-1"><a class="header-anchor" href="#添加ssh公钥" aria-hidden="true">#</a> 添加ssh公钥</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ipa user-mod <span class="token operator">&lt;</span>你的用户名<span class="token operator">&gt;</span> --sshpubkey<span class="token operator">=</span><span class="token string">&quot;ssh-rsa 12345abcde= bob@DESKTOP-XXXXXX&quot;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>添加后，该公钥即可在任何已接入的服务器中使用。</p>',10),c=(0,n.Uk)("上述命令将替换任何已存在的公钥。若要添加多个公钥，可在一个命令中指定多次"),h=(0,n._)("code",null,"--sshpubkey",-1),u=(0,n.Uk)("。可用"),b=(0,n._)("code",null,"ipa user-show --all <你的用户名>",-1),m=(0,n.Uk)("查看已导入的公钥。或使用"),k={href:"https://ipa0.scut-smil.cn/",target:"_blank",rel:"noopener noreferrer"},g=(0,n.Uk)("Web界面"),f=(0,n._)("h2",{id:"faq",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#faq","aria-hidden":"true"},"#"),(0,n.Uk)(" FAQ")],-1),_=(0,n._)("ul",null,[(0,n._)("li",null,[(0,n._)("p",null,[(0,n.Uk)("报错："),(0,n._)("code",null,"did not receive Kerberos credentials")]),(0,n._)("p",null,[(0,n.Uk)("这是因为你上次是使用公钥登录的，或者具上次输入密码登录已经太久了。请执行"),(0,n._)("code",null,"kinit"),(0,n.Uk)("命令，并按提示输入FreeIPA的密码。")])])],-1),v={},U=(0,a(3744).Z)(v,[["render",function(e,s){const a=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.iD)(n.HY,null,[l,r,(0,n._)("p",null,[t,(0,n._)("a",i,[o,(0,n.Wm)(a)]),p]),d,(0,n._)("p",null,[c,h,u,b,m,(0,n._)("a",k,[g,(0,n.Wm)(a)])]),f,_],64)}]])},110:(e,s,a)=>{a.r(s),a.d(s,{data:()=>n});const n={key:"v-bf7c8492",path:"/auth/self-service.html",title:"自助服务",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"修改密码",slug:"修改密码",children:[]},{level:2,title:"修改个人信息",slug:"修改个人信息",children:[]},{level:2,title:"添加ssh公钥",slug:"添加ssh公钥",children:[]},{level:2,title:"FAQ",slug:"faq",children:[]}],filePathRelative:"auth/self-service.md",git:{updatedTime:1637724421e3,contributors:[{name:"胡玮文",email:"huww98@outlook.com",commits:4}]}}}}]);