"use strict";(self.webpackChunksmil_infra_user_manual=self.webpackChunksmil_infra_user_manual||[]).push([[731],{3448:(n,e,a)=>{a.r(e),a.d(e,{default:()=>m});var s=a(6252);const t=(0,s.uE)('<h1 id="环境安装建议" tabindex="-1"><a class="header-anchor" href="#环境安装建议" aria-hidden="true">#</a> 环境安装建议</h1><p>Python程序启动时通常需要读取大量文件，由于分布式存储延迟较高，启动时间可能很长。为此，用户可以将相关环境安装在SSD上（<code>/mnt/cephfs/mixed/home/&lt;用户名&gt;</code>目录），以加速程序启动。</p><h2 id="conda" tabindex="-1"><a class="header-anchor" href="#conda" aria-hidden="true">#</a> Conda</h2><p>conda通常占用空间较大，为节省SSD空间，推荐将conda本身安装至HDD中（<code>/mnt/cephfs/home/&lt;用户名&gt;</code>目录），而仅将运行环境创建在mixed目录。具体方法为：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>conda create --prefix /mnt/cephfs/mixed/home/<span class="token operator">&lt;</span>用户名<span class="token operator">&gt;</span>/envs/<span class="token operator">&lt;</span>环境名<span class="token operator">&gt;</span> --copy <span class="token punctuation">..</span>.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>请注意在创建或安装新的软件包时均需要指定<code>--copy</code>参数，否则conda将会只创建链接，而不会把文件真正复制到SSD中。</p>',6),o=(0,s.Uk)("为可以使用"),c=(0,s._)("code",null,"conda activate <环境名>",-1),l=(0,s.Uk)("，可以修改"),r={href:"https://docs.conda.io/projects/conda/en/latest/user-guide/configuration/use-condarc.html",target:"_blank",rel:"noopener noreferrer"},p=(0,s.Uk)("condarc"),d=(0,s.Uk)("文件添加环境目录，例如："),i=(0,s.uE)('<div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">envs_dirs</span><span class="token punctuation">:</span>\n  <span class="token punctuation">-</span> /mnt/cephfs/home/&lt;用户名<span class="token punctuation">&gt;</span>/miniconda3/envs\n  <span class="token punctuation">-</span> /mnt/cephfs/mixed/home/&lt;用户名<span class="token punctuation">&gt;</span>/envs\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>',1),u={},m=(0,a(3744).Z)(u,[["render",function(n,e){const a=(0,s.up)("OutboundLink");return(0,s.wg)(),(0,s.iD)(s.HY,null,[t,(0,s._)("p",null,[o,c,l,(0,s._)("a",r,[p,(0,s.Wm)(a)]),d]),i],64)}]])},6453:(n,e,a)=>{a.r(e),a.d(e,{data:()=>s});const s={key:"v-5583e60b",path:"/storage/env-install.html",title:"环境安装建议",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"Conda",slug:"conda",children:[]}],filePathRelative:"storage/env-install.md",git:{updatedTime:163395876e4,contributors:[{name:"胡玮文",email:"huww98@163.com",commits:1}]}}}}]);