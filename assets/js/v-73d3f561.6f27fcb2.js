"use strict";(self.webpackChunksmil_infra_user_manual=self.webpackChunksmil_infra_user_manual||[]).push([[877],{9486:(e,s,l)=>{l.r(s),l.d(s,{default:()=>N});var a=l(6252),t=l(3518),n=l(6260);const r=(0,a._)("h1",{id:"web服务校外访问",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#web服务校外访问","aria-hidden":"true"},"#"),(0,a.Uk)(" Web服务校外访问")],-1),h=(0,a._)("p",null,"实验室的Web服务，如Grafana、NextCloud等一般都只能在校园网内访问。若需要在校外访问，可通过跳板机进行代理。",-1),i=(0,a._)("p",null,"具体来说，可以配置ssh客户端的动态端口转发功能，然后配置浏览器通过ssh客户端代理连接到服务器。",-1),o=(0,a._)("h2",{id:"设置ssh动态端口转发",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#设置ssh动态端口转发","aria-hidden":"true"},"#"),(0,a.Uk)(" 设置ssh动态端口转发")],-1),u=(0,a._)("p",null,"ssh客户端通常具有动态端口转发功能，将自己配置为一个socks5协议的代理服务器，可将任意TCP连接转发至连接到的远程服务器。",-1),c=(0,a.Uk)("OpenSSH"),_=(0,a.Uk)("Xshell"),d=(0,a._)("p",null,[(0,a.Uk)("请先完成"),(0,a._)("a",{href:"./remote-server-access.md?s:ssh_client=ssh"},"使用OpenSSH校外访问服务器"),(0,a.Uk)("的配置。")],-1),m=(0,a._)("p",null,[(0,a.Uk)("然后在你连接服务器的命令的基础上加上"),(0,a._)("code",null,"-D"),(0,a.Uk)("参数：")],-1),p=(0,a._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a._)("pre",{class:"language-bash"},[(0,a._)("code",null,[(0,a._)("span",{class:"token function"},"ssh"),(0,a.Uk)(" -D "),(0,a._)("span",{class:"token number"},"9090"),(0,a.Uk)(" gpu023\n")])]),(0,a._)("div",{class:"line-numbers"},[(0,a._)("span",{class:"line-number"},"1"),(0,a._)("br")])],-1),g=(0,a._)("p",null,"此命令可让ssh监听9090端口，并将socks5代理协议的传入连接转发到gpu023，并从gpu023向指定目的地发起TCP连接。",-1),k=(0,a._)("p",null,"TODO",-1),b=(0,a._)("h2",{id:"配置浏览器代理设置",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#配置浏览器代理设置","aria-hidden":"true"},"#"),(0,a.Uk)(" 配置浏览器代理设置")],-1),f=(0,a._)("p",null,"虽然你也可以直接修改全局的代理设置，但更推荐使用浏览器插件，只把需要代理的流量代理。",-1),w=(0,a.Uk)("安装SwitchyOmega插件： "),U={href:"https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif",target:"_blank",rel:"noopener noreferrer"},x=(0,a.Uk)("chrome商店"),v=(0,a.Uk)("、 "),W={href:"https://addons.mozilla.org/zh-CN/firefox/addon/switchyomega/",target:"_blank",rel:"noopener noreferrer"},S=(0,a.Uk)("Firefox附加组件"),C=(0,a.Uk)("、 "),y={href:"https://github.com/FelisCatus/SwitchyOmega/releases",target:"_blank",rel:"noopener noreferrer"},O=(0,a.Uk)("GitHub release"),T=(0,a.Uk)("。"),D=(0,a._)("p",null,[(0,a.Uk)("安装完成后，打开插件的选项，单击“新建情景模式”，选择“代理服务器”，添加以下配置： "),(0,a._)("img",{src:t,alt:"代理协议选择SOCKS5，代理服务器输入localhost，代理端口输入9090"})],-1),H=(0,a._)("p",null,[(0,a.Uk)("再次单击“新建情景模式”，选择“自动切换模式”，添加以下配置（第一行）： "),(0,a._)("img",{src:n,alt:"添加规则，条件类型选择“域名通配符”，条件设置输入“*.scut-smil.cn”，情景模式选择上一步创建的代理服务器配置"})],-1),j=(0,a._)("p",null,"最后点击插件图标，并激活刚刚创建的自动切换模式即可访问我们的Web服务了。",-1),z={},N=(0,l(3744).Z)(z,[["render",function(e,s){const l=(0,a.up)("SelectTabItem"),t=(0,a.up)("SelectTab"),n=(0,a.up)("SelectContent"),z=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[r,h,i,o,u,(0,a.Wm)(t,{subject:"ssh_client"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,{v:"ssh",default:""},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(l,{v:"xshell"},{default:(0,a.w5)((()=>[_])),_:1})])),_:1}),(0,a.Wm)(n,{s:"ssh_client",v:"ssh"},{default:(0,a.w5)((()=>[d,m,p,g])),_:1}),(0,a.Wm)(n,{s:"ssh_client",v:"xshell"},{default:(0,a.w5)((()=>[k])),_:1}),b,f,(0,a._)("p",null,[w,(0,a._)("a",U,[x,(0,a.Wm)(z)]),v,(0,a._)("a",W,[S,(0,a.Wm)(z)]),C,(0,a._)("a",y,[O,(0,a.Wm)(z)]),T]),D,H,j],64)}]])},5232:(e,s,l)=>{l.r(s),l.d(s,{data:()=>a});const a={key:"v-73d3f561",path:"/guide/remote-web-access.html",title:"Web服务校外访问",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"设置ssh动态端口转发",slug:"设置ssh动态端口转发",children:[]},{level:2,title:"配置浏览器代理设置",slug:"配置浏览器代理设置",children:[]}],filePathRelative:"guide/remote-web-access.md",git:{updatedTime:1639484619e3,contributors:[{name:"胡玮文",email:"huww98@outlook.com",commits:1}]}}},3518:(e,s,l)=>{e.exports=l.p+"assets/img/switchy_omega_options_proxy.c7be55b4.png"},6260:(e,s,l)=>{e.exports=l.p+"assets/img/switchy_omega_options_switch.72d00d90.png"}}]);